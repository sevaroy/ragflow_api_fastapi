# RAGFlow èŠå¤©æ©Ÿå™¨äººé …ç›®çµæ§‹

## ğŸ“ å®Œæ•´é …ç›®çµæ§‹

```
ragflow_chatbot/
â”œâ”€â”€ README.md                     # é …ç›®ä¸»æ–‡æª”
â”œâ”€â”€ PROJECT_SUMMARY.md            # é …ç›®ç¸½çµ
â”œâ”€â”€ PROJECT_STRUCTURE.md          # é …ç›®çµæ§‹èªªæ˜ (æœ¬æ–‡ä»¶)
â”œâ”€â”€ requirements.txt              # Python ä¾è³´
â”œâ”€â”€ config.py                     # API é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ ğŸš€ æ ¸å¿ƒæ‡‰ç”¨
â”œâ”€â”€ start.py                      # çµ±ä¸€å•Ÿå‹•å™¨
â”œâ”€â”€ ragflow_chatbot.py           # å®Œæ•´åŠŸèƒ½èŠå¤©æ©Ÿå™¨äºº â­â­â­â­â­
â”œâ”€â”€ ragflow_simple.py            # ç°¡åŒ–ç‰ˆèŠå¤©æ©Ÿå™¨äºº â­â­â­â­
â”œâ”€â”€ web_chatbot.py               # Flask Web èŠå¤©æ©Ÿå™¨äºº â­â­â­â­
â”œâ”€â”€ fastapi_server.py            # FastAPI å¾Œç«¯æœå‹™ â­â­â­â­â­
â”œâ”€â”€ streamlit_app.py             # Streamlit å‰ç«¯ç•Œé¢ â­â­â­â­â­
â”œâ”€â”€ run_full_stack.py            # å…¨æ£§å•Ÿå‹•è…³æœ¬ ğŸš€
â”‚
â”œâ”€â”€ ğŸ“š æ–‡æª”æŒ‡å—
â”œâ”€â”€ FASTAPI_GUIDE.md             # FastAPI ä½¿ç”¨æŒ‡å—
â”œâ”€â”€ STREAMLIT_GUIDE.md           # Streamlit ä½¿ç”¨æŒ‡å—
â”‚
â”œâ”€â”€ ğŸ³ éƒ¨ç½²é…ç½®
â”œâ”€â”€ Dockerfile                   # Docker å®¹å™¨é…ç½®
â”œâ”€â”€ docker-compose.yml           # Docker Compose é…ç½®
â”‚
â”œâ”€â”€ ğŸ¨ å‰ç«¯è³‡æº
â”œâ”€â”€ .streamlit/
â”‚   â””â”€â”€ config.toml              # Streamlit é…ç½®
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ index.html               # Flask Web æ¨¡æ¿
â”‚
â””â”€â”€ ğŸ§ª æ¸¬è©¦å’Œé–‹ç™¼
    â””â”€â”€ test/
        â”œâ”€â”€ README.md                    # æ¸¬è©¦èªªæ˜æ–‡æª”
        â”œâ”€â”€ run_all_tests.py            # çµ±ä¸€æ¸¬è©¦å•Ÿå‹•è…³æœ¬ ğŸš€
        â”‚
        â”œâ”€â”€ ğŸ” API å’Œæœå‹™æ¸¬è©¦
        â”œâ”€â”€ ragflow_test.py             # RAGFlow API é€£ç·šæ¸¬è©¦
        â”œâ”€â”€ test_api_endpoints.py       # API ç«¯é»æ¸¬è©¦
        â”œâ”€â”€ test_fastapi.py             # FastAPI æœå‹™æ¸¬è©¦
        â”œâ”€â”€ test_streamlit.py           # Streamlit æ‡‰ç”¨æ¸¬è©¦
        â”‚
        â”œâ”€â”€ ğŸ“‹ ç¤ºä¾‹å’Œæ¼”ç¤º
        â”œâ”€â”€ api_client_example.py       # API å®¢æˆ¶ç«¯ç¤ºä¾‹
        â”œâ”€â”€ final_demo.py               # å®Œæ•´æ¼”ç¤ºç¨‹åº
        â”œâ”€â”€ demo.py                     # åŸºç¤æ¼”ç¤ºç¨‹åº
        â”‚
        â”œâ”€â”€ ğŸ› ï¸ é–‹ç™¼å·¥å…·
        â”œâ”€â”€ test_chatbots.py            # èŠå¤©æ©Ÿå™¨äººæ¸¬è©¦å·¥å…·
        â”œâ”€â”€ run_test.sh                 # Shell æ¸¬è©¦è…³æœ¬
        â”‚
        â””â”€â”€ ğŸ“œ æ­·å²ç‰ˆæœ¬ (å‘å¾Œå…¼å®¹)
            â”œâ”€â”€ ragflow_client.py       # æ—©æœŸå®¢æˆ¶ç«¯å¯¦ç¾
            â”œâ”€â”€ rag_chatbot.py          # æ—©æœŸèŠå¤©æ©Ÿå™¨äºº
            â”œâ”€â”€ simple_chatbot.py       # æ—©æœŸç°¡å–®å¯¦ç¾
            â””â”€â”€ simple_chatbot_fixed.py # æ—©æœŸä¿®å¾©ç‰ˆæœ¬
```

## ğŸ¯ æ–‡ä»¶åˆ†é¡èªªæ˜

### æ ¸å¿ƒæ‡‰ç”¨ (ç”Ÿç”¢å°±ç·’)

| æ–‡ä»¶ | é¡å‹ | æ¨è–¦åº¦ | æè¿° |
|------|------|--------|------|
| `ragflow_chatbot.py` | å‘½ä»¤è¡Œ | â­â­â­â­â­ | å®Œæ•´åŠŸèƒ½èŠå¤©æ©Ÿå™¨äººï¼Œæ”¯æŒæ•¸æ“šé›†é¸æ“‡ |
| `ragflow_simple.py` | å‘½ä»¤è¡Œ | â­â­â­â­ | ç°¡åŒ–ç‰ˆèŠå¤©æ©Ÿå™¨äººï¼Œå¿«é€Ÿä¸Šæ‰‹ |
| `fastapi_server.py` | å¾Œç«¯æœå‹™ | â­â­â­â­â­ | RESTful API æœå‹™ï¼Œæ”¯æŒå¤šå®¢æˆ¶ç«¯ |
| `streamlit_app.py` | Web å‰ç«¯ | â­â­â­â­â­ | ç¾ä»£åŒ– Web ç•Œé¢ï¼Œç”¨æˆ¶å‹å¥½ |
| `web_chatbot.py` | Web æ‡‰ç”¨ | â­â­â­â­ | Flask Web æ‡‰ç”¨ï¼Œå‚³çµ± Web ç•Œé¢ |

### å•Ÿå‹•å’Œç®¡ç†å·¥å…·

| æ–‡ä»¶ | åŠŸèƒ½ | ä½¿ç”¨å ´æ™¯ |
|------|------|----------|
| `start.py` | çµ±ä¸€å•Ÿå‹•å™¨ | é¸æ“‡ä¸åŒç‰ˆæœ¬çš„èŠå¤©æ©Ÿå™¨äºº |
| `run_full_stack.py` | å…¨æ£§å•Ÿå‹• | åŒæ™‚å•Ÿå‹• FastAPI + Streamlit |

### æ¸¬è©¦å’Œé–‹ç™¼å·¥å…·

| æ–‡ä»¶ | é¡å‹ | åŠŸèƒ½ |
|------|------|------|
| `test/run_all_tests.py` | çµ±ä¸€æ¸¬è©¦ | é‹è¡Œæ‰€æœ‰æ¸¬è©¦ç¨‹å¼ |
| `test/ragflow_test.py` | API æ¸¬è©¦ | æ¸¬è©¦ RAGFlow API é€£ç·š |
| `test/test_fastapi.py` | æœå‹™æ¸¬è©¦ | æ¸¬è©¦ FastAPI å¾Œç«¯åŠŸèƒ½ |
| `test/test_streamlit.py` | æ‡‰ç”¨æ¸¬è©¦ | æ¸¬è©¦ Streamlit å‰ç«¯åŠŸèƒ½ |
| `test/api_client_example.py` | ç¤ºä¾‹ä»£ç¢¼ | API å®¢æˆ¶ç«¯ä½¿ç”¨ç¤ºä¾‹ |

## ğŸš€ æ¨è–¦ä½¿ç”¨æµç¨‹

### 1. å¿«é€Ÿé–‹å§‹ (æ–°ç”¨æˆ¶)
```bash
# 1. å®‰è£ä¾è³´
pip install -r requirements.txt

# 2. é…ç½® API
# ç·¨è¼¯ config.py æˆ–è¨­ç½®ç’°å¢ƒè®Šé‡

# 3. é‹è¡Œç°¡åŒ–ç‰ˆèŠå¤©æ©Ÿå™¨äºº
python3 ragflow_simple.py
```

### 2. å®Œæ•´åŠŸèƒ½é«”é©—
```bash
# é‹è¡Œå®Œæ•´åŠŸèƒ½èŠå¤©æ©Ÿå™¨äºº
python3 ragflow_chatbot.py
```

### 3. Web ç•Œé¢é«”é©—
```bash
# æ–¹æ³• 1: å…¨æ£§æ‡‰ç”¨ (æ¨è–¦)
python3 run_full_stack.py
# è¨ªå•: http://localhost:8501 (Streamlit)

# æ–¹æ³• 2: å‚³çµ± Web æ‡‰ç”¨
python3 web_chatbot.py
# è¨ªå•: http://localhost:5000 (Flask)
```

### 4. API æœå‹™éƒ¨ç½²
```bash
# å•Ÿå‹• FastAPI å¾Œç«¯
python3 fastapi_server.py
# API æ–‡æª”: http://localhost:8000/docs

# ä½¿ç”¨ API å®¢æˆ¶ç«¯
python3 test/api_client_example.py
```

### 5. æ¸¬è©¦å’Œé©—è­‰
```bash
# é‹è¡Œæ‰€æœ‰æ¸¬è©¦
python3 test/run_all_tests.py

# é‹è¡Œç‰¹å®šæ¸¬è©¦
python3 test/test_fastapi.py
python3 test/test_streamlit.py
```

## ğŸ¨ ç•Œé¢å°æ¯”

### å‘½ä»¤è¡Œç•Œé¢
- **ragflow_chatbot.py**: å®Œæ•´åŠŸèƒ½ï¼Œæ”¯æŒæ•¸æ“šé›†é¸æ“‡
- **ragflow_simple.py**: ç°¡åŒ–æ“ä½œï¼Œè‡ªå‹•é¸æ“‡æ•¸æ“šé›†

### Web ç•Œé¢
- **Streamlit** (`streamlit_app.py`): ç¾ä»£åŒ–è¨­è¨ˆï¼ŒéŸ¿æ‡‰å¼å¸ƒå±€
- **Flask** (`web_chatbot.py`): å‚³çµ± Web æ‡‰ç”¨ï¼Œç°¡æ½”å¯¦ç”¨

### API æœå‹™
- **FastAPI** (`fastapi_server.py`): é«˜æ€§èƒ½ APIï¼Œè‡ªå‹•æ–‡æª”ç”Ÿæˆ

## ğŸ”§ é–‹ç™¼å’Œè‡ªå®šç¾©

### åŸºæ–¼ç¾æœ‰ä»£ç¢¼é–‹ç™¼
```python
# åŸºæ–¼ç°¡åŒ–ç‰ˆæœ¬é–‹ç™¼
from ragflow_simple import SimpleRAGFlowBot

# åŸºæ–¼å®Œæ•´ç‰ˆæœ¬é–‹ç™¼
from ragflow_chatbot import RAGFlowOfficialClient

# åŸºæ–¼ API å®¢æˆ¶ç«¯é–‹ç™¼
# åƒè€ƒ test/api_client_example.py
```

### æ·»åŠ æ–°åŠŸèƒ½
1. åœ¨ `ragflow_chatbot.py` ä¸­æ·»åŠ æ ¸å¿ƒé‚è¼¯
2. åœ¨ `fastapi_server.py` ä¸­æ·»åŠ  API ç«¯é»
3. åœ¨ `streamlit_app.py` ä¸­æ·»åŠ  UI çµ„ä»¶
4. åœ¨ `test/` ä¸­æ·»åŠ æ¸¬è©¦ç”¨ä¾‹

## ğŸ“Š æŠ€è¡“æ£§ç¸½è¦½

### å¾Œç«¯æŠ€è¡“
- **Python 3.11+**: ä¸»è¦é–‹ç™¼èªè¨€
- **FastAPI**: ç¾ä»£ Web æ¡†æ¶
- **Flask**: å‚³çµ± Web æ¡†æ¶
- **Requests**: HTTP å®¢æˆ¶ç«¯
- **Pydantic**: æ•¸æ“šé©—è­‰

### å‰ç«¯æŠ€è¡“
- **Streamlit**: Python Web æ‡‰ç”¨æ¡†æ¶
- **HTML/CSS/JavaScript**: å‚³çµ± Web æŠ€è¡“
- **Bootstrap**: CSS æ¡†æ¶ (Flask ç‰ˆæœ¬)

### AI å’Œæ•¸æ“š
- **RAGFlow**: æª¢ç´¢å¢å¼·ç”Ÿæˆå¼•æ“
- **RAG**: æª¢ç´¢å¢å¼·ç”ŸæˆæŠ€è¡“
- **Vector Database**: å‘é‡æ•¸æ“šåº« (é€šé RAGFlow)

### éƒ¨ç½²å’Œé‹ç¶­
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²
- **Docker Compose**: å¤šæœå‹™ç·¨æ’
- **Uvicorn**: ASGI æœå‹™å™¨
- **Gunicorn**: WSGI æœå‹™å™¨ (å¯é¸)

## ğŸ¯ ä½¿ç”¨å»ºè­°

### é©ç”¨å ´æ™¯

| å ´æ™¯ | æ¨è–¦æ–¹æ¡ˆ | ç†ç”± |
|------|----------|------|
| å¿«é€Ÿæ¸¬è©¦ | `ragflow_simple.py` | æœ€ç°¡å–®çš„ä½¿ç”¨æ–¹å¼ |
| å®Œæ•´æ¼”ç¤º | `ragflow_chatbot.py` | åŠŸèƒ½æœ€å®Œæ•´ |
| Web æ‡‰ç”¨ | `streamlit_app.py` | ç¾ä»£åŒ–ç•Œé¢ |
| API æœå‹™ | `fastapi_server.py` | é«˜æ€§èƒ½ï¼Œæ˜“é›†æˆ |
| ç”Ÿç”¢éƒ¨ç½² | å…¨æ£§æ–¹æ¡ˆ | FastAPI + Streamlit |

### æ€§èƒ½è€ƒæ…®
- **å‘½ä»¤è¡Œç‰ˆæœ¬**: è³‡æºä½”ç”¨æœ€å°‘
- **Web ç‰ˆæœ¬**: éœ€è¦é¡å¤–çš„ Web æœå‹™å™¨è³‡æº
- **API ç‰ˆæœ¬**: æ”¯æŒå¤šå®¢æˆ¶ç«¯ä¸¦ç™¼è¨ªå•

### ç¶­è­·å»ºè­°
1. å®šæœŸé‹è¡Œæ¸¬è©¦ç¢ºä¿åŠŸèƒ½æ­£å¸¸
2. æ ¹æ“šéœ€è¦æ›´æ–°ä¾è³´ç‰ˆæœ¬
3. ç›£æ§ API æœå‹™çš„æ€§èƒ½å’Œæ—¥èªŒ
4. å‚™ä»½é‡è¦çš„é…ç½®å’Œæ•¸æ“š

## ğŸ“„ è¨±å¯è­‰

MIT License - å…è¨±è‡ªç”±ä½¿ç”¨å’Œä¿®æ”¹

---

**æœ€å¾Œæ›´æ–°**: 2025å¹´8æœˆ2æ—¥  
**é …ç›®ç‰ˆæœ¬**: 1.0.0  
**ç¶­è­·ç‹€æ…‹**: ç©æ¥µç¶­è­· âœ…